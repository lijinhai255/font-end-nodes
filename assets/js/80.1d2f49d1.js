(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{1280:function(t,s,a){"use strict";a.r(s);var e=a(24),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"配置eslint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置eslint"}},[t._v("#")]),t._v(" "),s("RouterLink",{attrs:{to:"/basic/webthree/eslint-prettier-setup.html"}},[t._v("配置Eslint")])],1),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("install eslint"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("config"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("airbnb"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("typescript \\\n            @typescript"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("eslint"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("eslint"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin@"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.0")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),t._v(" \\\n            @typescript"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("eslint"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("parser@"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.0")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),t._v(" \\\n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("save"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dev\n")])])]),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("pnpm install -D prettier eslint-plugin-prettier\n\n\n")])])]),s("p",[t._v("eslint-config-prettier: 用于解决 ESLint 和 Prettier 的规则冲突\neslint-plugin-prettier: 将 Prettier 作为 ESLint 规则运行\nprettier: Prettier 格式化工具本身")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("yarn add -D @typescript-eslint/eslint-plugin @typescript-eslint/parser eslint-config-airbnb-typescript\n")])])]),s("h2",{attrs:{id:"husky"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#husky"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://www.npmjs.com/package/husky",target:"_blank",rel:"noopener noreferrer"}},[t._v("husky"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-jsx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[t._v("npx husky init \n\n\n "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"test"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"echo \\"No tests specified\\" && exit 0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"prepare"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"husky"')]),t._v("\n")])])]),s("h2",{attrs:{id:"单元测试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#单元测试"}},[t._v("#")]),t._v(" 单元测试")]),t._v(" "),s("p",[s("img",{attrs:{src:a(793),alt:"alt text"}})]),t._v(" "),s("p",[t._v("jest 单元测试 ete 测试")]),t._v(" "),s("p",[s("img",{attrs:{src:a(794),alt:"alt text"}})]),t._v(" "),s("h3",{attrs:{id:"ui测试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ui测试"}},[t._v("#")]),t._v(" UI测试")]),t._v(" "),s("h4",{attrs:{id:"backtopjs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#backtopjs"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://github.com/garris/BackstopJS",target:"_blank",rel:"noopener noreferrer"}},[t._v("BacktopJS"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("COMMAND | Executing core for \"init\"\n   init | Copying '/usr/local/lib/node_modules/backstopjs/capture/engine_scripts' to '/Users/lijinhai/Desktop/my_project/new-interface/backstop_data/engine_scripts'\n   init | Configuration file written at '/Users/lijinhai/Desktop/my_project/new-interface/backstop.json'\nCOMMAND | Command \"init\" successfully executed in [0.098s]\n")])])]),s("h3",{attrs:{id:"单元测试-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#单元测试-2"}},[t._v("#")]),t._v(" 单元测试")]),t._v(" "),s("h4",{attrs:{id:"jest"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jest"}},[t._v("#")]),t._v(" jest")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("testMatch")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'**/?(*.)+(spec|test).ts?(x)'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("setupFilesAfterEnv")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<rootDir>/tests/setupTests.ts'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rootDir")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("transform")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'.(ts|tsx)'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@swc/jest'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# 使用 npx 运行 jest\nnpx jest\n\n# 或者使用 npm script\nnpm test\n")])])]),s("blockquote",[s("p",[t._v("单元测试覆盖率 jest-stare")])]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"test": "jest --collectCoverage --reports-default jest-stare",\n')])])]),s("p",[t._v("rootDir: 设置为空字符串，表示使用默认的项目根目录\ntransform: 配置文件转换器")]),t._v(" "),s("p",[t._v("使用 @swc/jest 来转换 .ts 和 .tsx 文件\nSWC 是一个用 Rust 编写的快速 JavaScript/TypeScript 转换器")]),t._v(" "),s("blockquote",[s("p",[t._v("jest.config.js")])]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("module.exports = {\n  testEnvironment: 'node',\n  testMatch: ['**/*.test.js', '**/*.spec.js', '**/*.spec.ts'],\n  verbose: true,\n};\n\n")])])]),s("h4",{attrs:{id:"majestic"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#majestic"}},[t._v("#")]),t._v(" majestic")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('\n"test:unit": "majestic"\n')])])]),s("h4",{attrs:{id:"cypress"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cypress"}},[t._v("#")]),t._v(" cypress")]),t._v(" "),s("h2",{attrs:{id:"组件库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#组件库"}},[t._v("#")]),t._v(" 组件库")]),t._v(" "),s("h3",{attrs:{id:"turbo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#turbo"}},[t._v("#")]),t._v(" turbo")]),t._v(" "),s("h3",{attrs:{id:"lerna"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lerna"}},[t._v("#")]),t._v(" lerna")])])}),[],!1,null,null,null);s.default=r.exports},793:function(t,s,a){t.exports=a.p+"assets/img/dy.3c130c86.png"},794:function(t,s,a){t.exports=a.p+"assets/img/cs.78734835.png"}}]);