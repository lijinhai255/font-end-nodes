(window.webpackJsonp=window.webpackJsonp||[]).push([[142],{1272:function(s,t,a){"use strict";a.r(t);var r=a(24),n=Object(r.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"项目-monorepo-项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#项目-monorepo-项目"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://claude.ai/chat/e81d2610-597d-4cb4-9efd-fa5eb52898d4",target:"_blank",rel:"noopener noreferrer"}},[s._v("项目 Monorepo 项目 "),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"基础配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基础配置"}},[s._v("#")]),s._v(" 基础配置")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("# 创建项目目录\nmkdir frontend"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("frameworks\ncd frontend"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("frameworks\n\n# 初始化项目\npnpm init\n\n# 创建必要的目录\nmkdir apps packages\n")])])]),t("h3",{attrs:{id:"配置基础文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置基础文件"}},[s._v("#")]),s._v(" 配置基础文件")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("# 创建 pnpm"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("workspace"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("yaml\n"),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("packages")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'apps/*'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'packages/*'")]),s._v("\n\n# 创建 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("json")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("根目录")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"frontend-frameworks"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"private"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"dev"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"turbo run dev"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"build"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"turbo run build"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"lint"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"turbo run lint"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"clean"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"turbo run clean"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n# 创建 turbo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("json\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"$schema"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://turbo.build/schema.json"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"pipeline"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"build"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"dependsOn"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^build"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"outputs"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist/**"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"dev"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token string-property property"}},[s._v('"cache"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("h3",{attrs:{id:"子项目创建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#子项目创建"}},[s._v("#")]),s._v(" 子项目创建")]),s._v(" "),t("h4",{attrs:{id:"react项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#react项目"}},[s._v("#")]),s._v(" React项目")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("cd apps\npnpm create vite react"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("app "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("template react"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ts\ncd react"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("app\npnpm install\n\ncd apps\npnpm create vite vue3"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("app "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("template vue"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ts\ncd vue3"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("app\npnpm install\n")])])]),t("h4",{attrs:{id:"其他框架"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其他框架"}},[s._v("#")]),s._v(" 其他框架")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("# Svelte\npnpm create vite svelte"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("app "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("template svelte"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ts\n\n# Solid\npnpm create vite solid"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("app "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("template solid"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ts\n\n# Qwik\npnpm create qwik\n\n")])])]),t("h3",{attrs:{id:"常用命令参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用命令参考"}},[s._v("#")]),s._v(" 常用命令参考")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("# 清理所有 node_modules\npnpm clean\n\n# 重新安装所有依赖\npnpm install\n\n# 链接工作区依赖\npnpm link\n\n# 添加共享依赖\npnpm add @your"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("org"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("shared "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("w\n\n# 运行特定脚本\npnpm run "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),t("h3",{attrs:{id:"目录结构参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#目录结构参考"}},[s._v("#")]),s._v(" 目录结构参考")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("frontend"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("frameworks"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n├── "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("json\n├── pnpm"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("workspace"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("yaml\n├── turbo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("json\n├── apps"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n│   ├── react"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("app"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n│   ├── vue3"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("app"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n│   ├── svelte"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("app"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n│   ├── solid"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("app"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n│   └── qwik"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("app"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n└── packages"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n    ├── shared"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ui"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n    └── utils"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n")])])]),t("h2",{attrs:{id:"rollup-sdk-构建与发布指南"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rollup-sdk-构建与发布指南"}},[s._v("#")]),s._v(" Rollup SDK 构建与发布指南")]),s._v(" "),t("h3",{attrs:{id:"_1-项目初始化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-项目初始化"}},[s._v("#")]),s._v(" 1. 项目初始化")]),s._v(" "),t("h4",{attrs:{id:"_1-1-基础设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-基础设置"}},[s._v("#")]),s._v(" 1.1 基础设置")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建项目目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" rollup-sdk "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" rollup-sdk\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 初始化 package.json")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" init\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装依赖")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" rollup @rollup/plugin-babel @rollup/plugin-commonjs "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  @rollup/plugin-node-resolve @rollup/plugin-typescript "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  @rollup/plugin-terser typescript rimraf\n")])])]),t("h4",{attrs:{id:"_1-2-配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-配置文件"}},[s._v("#")]),s._v(" 1.2 配置文件")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建必要的配置文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" rollup.config.mjs tsconfig.json .npmrc\n")])])]),t("h3",{attrs:{id:"依赖管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#依赖管理"}},[s._v("#")]),s._v(" 依赖管理")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("# 根目录依赖\npnpm add "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v(" turbo typescript prettier "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("w\n\n# 安装子项目依赖\npnpm "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("filter react"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("app add react"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("router"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dom\npnpm "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("filter vue3"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("app add vue"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("router\n")])])]),t("h3",{attrs:{id:"运行命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#运行命令"}},[s._v("#")]),s._v(" 运行命令")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("# 运行所有项目\npnpm dev\n\n# 运行特定项目\npnpm "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("filter react"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("app dev\n\n# 构建项目\npnpm build\n")])])]),t("h3",{attrs:{id:"_2-项目结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-项目结构"}},[s._v("#")]),s._v(" 2. 项目结构")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("rollup-sdk/\n├── src/\n│   └── index.ts      # 源代码入口\n├── dist/             # 构建输出目录\n├── rollup.config.mjs # Rollup 配置\n├── tsconfig.json     # TypeScript 配置\n├── package.json      # 包配置\n└── .npmrc           # npm 配置\n")])])]),t("h3",{attrs:{id:"_3-关键配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-关键配置"}},[s._v("#")]),s._v(" 3. 关键配置")]),s._v(" "),t("h4",{attrs:{id:"_3-1-package-json"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-package-json"}},[s._v("#")]),s._v(" 3.1 package.json")]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"your-package-name"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 包名（确保唯一）")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.1.0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"main"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist/index.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// CommonJS 输出")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"module"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist/index.esm.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ES Module 输出")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"types"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist/index.d.ts"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// TypeScript 类型声明")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"files"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 发布文件")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dev"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rollup -c -w"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rimraf dist && rollup -c"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"clean"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rimraf dist"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("h4",{attrs:{id:"_3-2-npmrc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-npmrc"}},[s._v("#")]),s._v(" 3.2 .npmrc")]),s._v(" "),t("div",{staticClass:"language-ini extra-class"},[t("pre",{pre:!0,attrs:{class:"language-ini"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("registry")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("https://registry.npmmirror.com/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("publish-registry")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("https://registry.npmjs.org/")]),s._v("\n")])])]),t("h3",{attrs:{id:"_4-构建流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-构建流程"}},[s._v("#")]),s._v(" 4. 构建流程")]),s._v(" "),t("h4",{attrs:{id:"_4-1-开发构建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-开发构建"}},[s._v("#")]),s._v(" 4.1 开发构建")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开发模式（支持热重载）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" dev\n")])])]),t("h4",{attrs:{id:"_4-2-生产构建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-生产构建"}},[s._v("#")]),s._v(" 4.2 生产构建")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 清理之前的构建")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" clean\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 构建")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" build\n")])])]),t("h3",{attrs:{id:"_5-发布流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-发布流程"}},[s._v("#")]),s._v(" 5. 发布流程")]),s._v(" "),t("h4",{attrs:{id:"_5-1-发布前准备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-发布前准备"}},[s._v("#")]),s._v(" 5.1 发布前准备")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到 npm 官方源")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry https://registry.npmjs.org/\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 登录 npm 账号")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" login\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 确认登录状态")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("whoami")]),s._v("\n")])])]),t("h4",{attrs:{id:"_5-2-选择包名策略"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-选择包名策略"}},[s._v("#")]),s._v(" 5.2 选择包名策略")]),s._v(" "),t("h5",{attrs:{id:"普通包名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#普通包名"}},[s._v("#")]),s._v(" 普通包名")]),s._v(" "),t("ul",[t("li",[s._v("使用唯一的包名，如："),t("code",[s._v("your-name-package-name")])]),s._v(" "),t("li",[s._v("package.json 配置：")])]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"your-name-package-name"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("h5",{attrs:{id:"作用域包名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#作用域包名"}},[s._v("#")]),s._v(" 作用域包名")]),s._v(" "),t("ul",[t("li",[s._v("需要先在 npm 网站创建组织或确认个人作用域")]),s._v(" "),t("li",[s._v("package.json 配置：")])]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@your-scope/package-name"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"publishConfig"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"access"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"public"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("h4",{attrs:{id:"_5-3-执行发布"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-执行发布"}},[s._v("#")]),s._v(" 5.3 执行发布")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 构建")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" build\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 发布")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" publish "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--access")]),s._v(" public  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 作用域包需要 --access public")]),s._v("\n")])])]),t("h3",{attrs:{id:"_6-发布后验证"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-发布后验证"}},[s._v("#")]),s._v(" 6. 发布后验证")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检查包信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" view your-package-name\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装测试")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" your-package-name\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者作用域包")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" @your-scope/package-name\n")])])]),t("h4",{attrs:{id:"_7-常见问题处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-常见问题处理"}},[s._v("#")]),s._v(" 7. 常见问题处理")]),s._v(" "),t("h4",{attrs:{id:"_7-1-包名冲突"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-包名冲突"}},[s._v("#")]),s._v(" 7.1 包名冲突")]),s._v(" "),t("ul",[t("li",[s._v("使用更独特的包名")]),s._v(" "),t("li",[s._v("添加作用域前缀")]),s._v(" "),t("li",[s._v("使用组织名称")])]),s._v(" "),t("h4",{attrs:{id:"_7-2-发布权限问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-发布权限问题"}},[s._v("#")]),s._v(" 7.2 发布权限问题")]),s._v(" "),t("ul",[t("li",[s._v("确认已正确登录")]),s._v(" "),t("li",[s._v("检查包名是否可用")]),s._v(" "),t("li",[s._v("验证作用域权限")])]),s._v(" "),t("h4",{attrs:{id:"_7-3-registry-问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-registry-问题"}},[s._v("#")]),s._v(" 7.3 Registry 问题")]),s._v(" "),t("ul",[t("li",[s._v("确保使用正确的 registry")]),s._v(" "),t("li",[s._v("检查 .npmrc 配置")]),s._v(" "),t("li",[s._v("验证发布源设置")])]),s._v(" "),t("h3",{attrs:{id:"_8-发布检查清单"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8-发布检查清单"}},[s._v("#")]),s._v(" 8. 发布检查清单")]),s._v(" "),t("ul",[t("li",[s._v("[ ] package.json 版本号已更新")]),s._v(" "),t("li",[s._v("[ ] 所有依赖都已正确安装")]),s._v(" "),t("li",[s._v("[ ] 构建成功且输出文件正确")]),s._v(" "),t("li",[s._v("[ ] npm 登录状态正常")]),s._v(" "),t("li",[s._v("[ ] 包名唯一且符合规范")]),s._v(" "),t("li",[s._v("[ ] 已切换到正确的 registry")]),s._v(" "),t("li",[s._v("[ ] 确认发布权限配置")])])])}),[],!1,null,null,null);t.default=n.exports}}]);